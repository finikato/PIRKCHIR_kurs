<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tori - Форма регистрации</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="avtor.css">
    <link rel="stylesheet" href="paralax+.css">
</head>
<body>
    <h1>Давайте познакомимся</h1>
    
    <div class="container">
        <div class="form-container">
            <form method="post" enctype="multipart/form-data" id="registration-form">
                <!-- Личная информация -->
                <div class="form-section">
                    <legend>Личная информация</legend>
                    
                    <div class="form-group">
                        <label for="name">Имя:</label>
                        <input type="text" id="name" name="name" placeholder="Введите ваше имя" required>
                    </div>
                    
                    <label>Пол:</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="male" name="gender" value="male" checked>
                            <label for="male">Мужской</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="female" name="gender" value="female">
                            <label for="female">Женский</label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Телефон:</label>
                        <input type="tel" id="phone" name="phone" placeholder="8 920 920 99 99" pattern="\+7|8\s?[\(]{0,1}9[0-9]{2}[\)]{0,1}\s?\d{3}[-]{0,1}\d{2}[-]{0,1}\d{2}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="country">Город:</label>
                        <select class="select" id="country" name="country" required>
                            <option class="select" value="" disabled selected>Выберите Город</option>
                            <option class="select" value="Kv">Ковров</option>
                            <option class="select" value="Vl">Владимир</option>
                            <option class="select" value="Gh">Гусь-Хрустальный</option>
                            <option class="select" value="Mu">Муром</option>
                        </select>
                    </div> 
                    
                    <div class="form-group">
                        <label for="file">Аватар на сайте:</label>
                        <input type="file" id="file" name="file">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" placeholder="example@mail.ru" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Пароль:</label>
                        <input type="password" id="password" name="password" placeholder="Введите пароль" minlength="6" required>
                    </div>
                </div>
                
                <!-- Капча -->
                <div class="form-section">
                    <legend>Подтверждение</legend>
                    <div class="captcha-container">
                        <div class="captcha-row">
                            <div id="captcha-image">Загрузка...</div>
                            <input type="text" id="captcha-input" placeholder="Введите код с картинки">
                            <div class="captcha-refresh" onclick="generateCaptcha()">
                                <i class="fas fa-sync-alt"></i>
                            </div>
                        </div>
                        <div id="captcha-message"></div>
                    </div>
                </div>
                
                <!-- Кнопки отправки -->
                <div class="form-section">
                    <input type="submit" value="Зарегистрироваться">
                    <button class="clearbtn" type="reset">Очистить форму</button>
                </div>
            </form>
        </div>
        
        <div class="media-container">
            <!-- Карта -->
            <div class="media-item">
                <h2>Карта</h2>
                <script type="text/javascript" charset="utf-8" async src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3A92fb38f09b8fc5115c1b89259ed48c6756757f065c1d8d580b906a5e25105830&amp;width=100%&amp;height=300&amp;lang=ru_RU&amp;scroll=true"></script>
            </div>
            
            <!-- Видео -->
            <div class="media-item">
                <h2>Видео</h2>
                <div class="video-container">
                   <iframe width="560" height="315" src="https://www.youtube.com/embed/RPeHT8ecTgw?si=jPj7K7ik5dsICl0r" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>
    
    <div style="text-align: center;">
        <a href="main.html" class="gohome">На главную</a>
    </div>

    <script>
document.addEventListener('DOMContentLoaded', function() {
    let captchaCode;
    
    //функция генерации капчи
    function generateCaptcha() {
        document.getElementById("captcha-input").value = "";
        document.getElementById("captcha-message").textContent = "";
        
        if (Math.random() > 0.5) {
            const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
            captchaCode = "";
            for (let i = 0; i < 5; i++) {
                captchaCode += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            document.getElementById("captcha-image").textContent = captchaCode;
        } else {
            const num1 = Math.floor(Math.random() * 10) + 1;
            const num2 = Math.floor(Math.random() * 10) + 1;
            captchaCode = `${num1 + num2}`;
            document.getElementById("captcha-image").textContent = `${num1} + ${num2}`;
        }
    }
    
    //функция проверки капчи
    function valCapcha() {
        const userInput = document.getElementById("captcha-input").value;
        const messageElement = document.getElementById("captcha-message");
        
        if (userInput === captchaCode) {
            messageElement.textContent = "Код верный!";
            messageElement.style.color = "#4CAF50";
            return true;
        } else {
            messageElement.textContent = "Неверный код, попробуйте снова";
            messageElement.style.color = "#f44336";
            generateCaptcha();
            return false;
        }
    }
    
    //обработчик отправки формы
    const registrationForm = document.getElementById("registration-form");
    if (registrationForm) {
        registrationForm.addEventListener("submit", function(event) {
            if (!valCapcha()) {
                event.preventDefault();
                document.getElementById("captcha-input").focus();
            } else {
                alert("Форма успешно отправлена!");
            event.preventDefault(); 
        }
        });
    }
    
    //обработчик очистки формы
    const clearBtn = document.querySelector('.clearbtn');
    if (clearBtn) {
        clearBtn.addEventListener('click', function() {
            generateCaptcha();
        });
    }
    
    //инициализация капчи
    generateCaptcha();
    
    window.generateCaptcha = generateCaptcha;
});
    </script>
</body>
</html>